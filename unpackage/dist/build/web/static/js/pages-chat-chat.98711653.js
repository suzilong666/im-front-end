(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pages-chat-chat"],{"0b86":function(t,a,o){"use strict";var e=o("0c45"),r=o.n(e);r.a},"0c45":function(t,a,o){var e=o("49bc");e.__esModule&&(e=e.default),"string"===typeof e&&(e=[[t.i,e,""]]),e.locals&&(t.exports=e.locals);var r=o("4f06").default;r("4b660f20",e,!0,{sourceMap:!1,shadowMode:!1})},"2e1c":function(t,a,o){"use strict";o.r(a);var e=o("cdf5"),r=o.n(e);for(var d in e)["default"].indexOf(d)<0&&function(t){o.d(a,t,(function(){return e[t]}))}(d);a["default"]=r.a},"49bc":function(t,a,o){var e=o("24fb");a=e(!1),a.push([t.i,".u-line-1[data-v-79d99246]{display:-webkit-box!important;overflow:hidden;text-overflow:ellipsis;word-break:break-all;-webkit-line-clamp:1;-webkit-box-orient:vertical!important}.u-line-2[data-v-79d99246]{display:-webkit-box!important;overflow:hidden;text-overflow:ellipsis;word-break:break-all;-webkit-line-clamp:2;-webkit-box-orient:vertical!important}.u-line-3[data-v-79d99246]{display:-webkit-box!important;overflow:hidden;text-overflow:ellipsis;word-break:break-all;-webkit-line-clamp:3;-webkit-box-orient:vertical!important}.u-line-4[data-v-79d99246]{display:-webkit-box!important;overflow:hidden;text-overflow:ellipsis;word-break:break-all;-webkit-line-clamp:4;-webkit-box-orient:vertical!important}.u-line-5[data-v-79d99246]{display:-webkit-box!important;overflow:hidden;text-overflow:ellipsis;word-break:break-all;-webkit-line-clamp:5;-webkit-box-orient:vertical!important}.u-border[data-v-79d99246]{border-width:.5px!important;border-color:#dadbde!important;border-style:solid}.u-border-top[data-v-79d99246]{border-top-width:.5px!important;border-color:#dadbde!important;border-top-style:solid}.u-border-left[data-v-79d99246]{border-left-width:.5px!important;border-color:#dadbde!important;border-left-style:solid}.u-border-right[data-v-79d99246]{border-right-width:.5px!important;border-color:#dadbde!important;border-right-style:solid}.u-border-bottom[data-v-79d99246]{border-bottom-width:.5px!important;border-color:#dadbde!important;border-bottom-style:solid}.u-border-top-bottom[data-v-79d99246]{border-top-width:.5px!important;border-bottom-width:.5px!important;border-color:#dadbde!important;border-top-style:solid;border-bottom-style:solid}.u-reset-button[data-v-79d99246]{padding:0;background-color:initial;font-size:inherit;line-height:inherit;color:inherit}.u-reset-button[data-v-79d99246]::after{border:none}.u-hover-class[data-v-79d99246]{opacity:.7}.u-primary-light[data-v-79d99246]{color:#ecf5ff}.u-warning-light[data-v-79d99246]{color:#fdf6ec}.u-success-light[data-v-79d99246]{color:#f5fff0}.u-error-light[data-v-79d99246]{color:#fef0f0}.u-info-light[data-v-79d99246]{color:#f4f4f5}.u-primary-light-bg[data-v-79d99246]{background-color:#ecf5ff}.u-warning-light-bg[data-v-79d99246]{background-color:#fdf6ec}.u-success-light-bg[data-v-79d99246]{background-color:#f5fff0}.u-error-light-bg[data-v-79d99246]{background-color:#fef0f0}.u-info-light-bg[data-v-79d99246]{background-color:#f4f4f5}.u-primary-dark[data-v-79d99246]{color:#398ade}.u-warning-dark[data-v-79d99246]{color:#f1a532}.u-success-dark[data-v-79d99246]{color:#53c21d}.u-error-dark[data-v-79d99246]{color:#e45656}.u-info-dark[data-v-79d99246]{color:#767a82}.u-primary-dark-bg[data-v-79d99246]{background-color:#398ade}.u-warning-dark-bg[data-v-79d99246]{background-color:#f1a532}.u-success-dark-bg[data-v-79d99246]{background-color:#53c21d}.u-error-dark-bg[data-v-79d99246]{background-color:#e45656}.u-info-dark-bg[data-v-79d99246]{background-color:#767a82}.u-primary-disabled[data-v-79d99246]{color:#9acafc}.u-warning-disabled[data-v-79d99246]{color:#f9d39b}.u-success-disabled[data-v-79d99246]{color:#a9e08f}.u-error-disabled[data-v-79d99246]{color:#f7b2b2}.u-info-disabled[data-v-79d99246]{color:#c4c6c9}.u-primary[data-v-79d99246]{color:#3c9cff}.u-warning[data-v-79d99246]{color:#f9ae3d}.u-success[data-v-79d99246]{color:#5ac725}.u-error[data-v-79d99246]{color:#f56c6c}.u-info[data-v-79d99246]{color:#909399}.u-primary-bg[data-v-79d99246]{background-color:#3c9cff}.u-warning-bg[data-v-79d99246]{background-color:#f9ae3d}.u-success-bg[data-v-79d99246]{background-color:#5ac725}.u-error-bg[data-v-79d99246]{background-color:#f56c6c}.u-info-bg[data-v-79d99246]{background-color:#909399}.u-main-color[data-v-79d99246]{color:#303133}.u-content-color[data-v-79d99246]{color:#606266}.u-tips-color[data-v-79d99246]{color:#909193}.u-light-color[data-v-79d99246]{color:#c0c4cc}.u-safe-area-inset-top[data-v-79d99246]{padding-top:0;padding-top:constant(safe-area-inset-top);padding-top:env(safe-area-inset-top)}.u-safe-area-inset-right[data-v-79d99246]{padding-right:0;padding-right:constant(safe-area-inset-right);padding-right:env(safe-area-inset-right)}.u-safe-area-inset-bottom[data-v-79d99246]{padding-bottom:0;padding-bottom:constant(safe-area-inset-bottom);padding-bottom:env(safe-area-inset-bottom)}.u-safe-area-inset-left[data-v-79d99246]{padding-left:0;padding-left:constant(safe-area-inset-left);padding-left:env(safe-area-inset-left)}uni-toast[data-v-79d99246]{z-index:10090}uni-toast .uni-toast[data-v-79d99246]{z-index:10090}[data-v-79d99246]::-webkit-scrollbar{display:none;width:0!important;height:0!important;-webkit-appearance:none;background:transparent}.chat-history-list .right[data-v-79d99246]{text-align:right}.bottom[data-v-79d99246]{position:fixed;bottom:0;width:100vw;height:50px;background-color:#efeff4;display:flex;align-items:center}",""]),t.exports=a},"80f1":function(t,a,o){"use strict";o.r(a);var e=o("b14c"),r=o("2e1c");for(var d in r)["default"].indexOf(d)<0&&function(t){o.d(a,t,(function(){return r[t]}))}(d);o("0b86");var i=o("f0c5"),n=Object(i["a"])(r["default"],e["b"],e["c"],!1,null,"79d99246",null,!1,e["a"],void 0);a["default"]=n.exports},b14c:function(t,a,o){"use strict";o.d(a,"b",(function(){return e})),o.d(a,"c",(function(){return r})),o.d(a,"a",(function(){}));var e=function(){var t=this,a=t.$createElement,o=t._self._c||a;return o("v-uni-view",{staticClass:"container"},[o("v-uni-view",{staticClass:"chat-history-list"},t._l(t.chatHistory,(function(a){return o("v-uni-view",{key:a.id,staticClass:"item",class:[a.sender_id==t.userInfo.id?"right":"left"]},[t._v(t._s(a.sender_id)+":"+t._s(a.message))])})),1),o("v-uni-view",{staticClass:"bottom"},[o("v-uni-input",{model:{value:t.message,callback:function(a){t.message=a},expression:"message"}}),o("v-uni-button",{attrs:{size:"mini"},on:{click:function(a){arguments[0]=a=t.$handleEvent(a),t.send()}}},[t._v("发送")])],1)],1)},r=[]},cdf5:function(t,a,o){"use strict";o("7a82"),Object.defineProperty(a,"__esModule",{value:!0}),a.default=void 0;var e=o("50a6"),r={data:function(){return{id:0,type:1,message:""}},computed:{userInfo:function(){return this.$store.state.userInfo},chatHistory:function(){var t=this.id,a=this.type,o=void 0===a?1:a,e=this.$store.getters,r=e.getFriendHistory,d=e.getGroupChatHistory;return 1==o?r(t):d(t)}},onLoad:function(t){var a=t.id,o=t.type;if(this.id=a,this.type=o,1==o){var e=this.$store.getters.getFriend(a);e&&uni.setNavigationBarTitle({title:e.nickname||e.username}),this.$store.dispatch("getChatHistory",a)}else{var r=this.$store.getters.getGroupChat(a);r&&uni.setNavigationBarTitle({title:r.name}),this.$store.dispatch("getGroupChatHistory",a)}},methods:{send:function(){var t=this,a=this.id,o=this.type,r=this.message;1==o?(0,e.send)({receiver_id:a,message:r}).then((function(a){var o=a.data;t.$store.dispatch("updateMessage",o)})):(0,e.sendToGroup)({group_id:a,message:r}).then((function(t){t.data})),this.message=""}}};a.default=r}}]);